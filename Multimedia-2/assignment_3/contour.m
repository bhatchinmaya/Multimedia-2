clc
clear
a =     [   0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
            0 0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 0 0 0;
            0 0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 0 0 0;
            0 0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 0 0 0;
            0 0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 0 0 0;
            0 0 1 1 1 1 1 1 1 1 0 0 0 0 0 0 0 0 0 0 0;
            0 0 1 1 1 1 1 1 1 1 0 0 0 0 0 0 0 0 0 0 0;
            0 0 1 1 1 1 1 1 1 1 0 0 0 0 0 0 0 0 0 0 0;
            0 0 1 1 1 1 1 1 1 1 0 0 0 0 0 0 0 0 0 0 0;
            0 0 1 1 1 1 1 1 1 1 0 0 0 0 0 0 0 0 0 0 0;
            0 0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 0 0 0 0 0;
            0 0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 0 0 0 0 0;
            0 0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 0 0 0 0 0;
            0 0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 0 0 0 0 0;
            0 0 1 1 1 1 1 1 1 1 0 0 0 0 0 0 0 0 0 0 0;
            0 0 1 1 1 1 1 1 1 1 0 0 0 0 0 0 0 0 0 0 0;
            0 0 1 1 1 1 1 1 1 1 0 0 0 0 0 0 0 0 0 0 0;
            0 0 1 1 1 1 1 1 1 1 0 0 0 0 0 0 0 0 0 0 0;
            0 0 1 1 1 1 1 1 1 1 0 0 0 0 0 0 0 0 0 0 0;
            0 0 1 1 1 1 1 1 1 1 0 0 0 0 0 0 0 0 0 0 0;
            0 0 1 1 1 1 1 1 1 1 0 0 0 0 0 0 0 0 0 0 0;
            0 0 1 1 1 1 1 1 1 1 0 0 0 0 0 0 0 0 0 0 0;
            0 0 1 1 1 1 1 1 1 1 0 0 0 0 0 0 0 0 0 0 0;
            0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;];;
        
        
a_gray = a;
level = 0.1;
a_bw = imbinarize(a_gray,level);
Icomp = imcomplement(a_bw);
hold on
[B,L] = bwboundaries(a_bw);
imshow(label2rgb(L, @jet, [.5 .5 .5]))
%imshow(a_bw);
hold on
for k = 1:length(B)
   boundary = B{k};
   plot(boundary(:,2), boundary(:,1), 'r', 'LineWidth', 1)
end